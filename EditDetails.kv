<EditDetailsScreen>:


    MDBoxLayout:
        orientation: 'vertical'
        MDBoxLayout:
            size_hint_y: None
            height: "70dp"
            radius: [0]
            md_bg_color: 1,1,1,1
            MDIconButton:
                icon: 'arrow-left'
                icon_size: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                on_press: app.play()
                on_release: app.switch_products()
                bold: True
                id: arrow

            MDLabel:
                text: "Edit Property"
                font_size: '16dp'
                bold: True
                halign: 'center'

            MDIconButton:
                icon: 'trash-can-outline'
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                icon_size: "20dp"
                on_press: app.play()
                on_release: app.delete_property_auth(root.key, root.local_image, 'Sale')
                bold: True
        
        MDSeparator:
            color: 0.9,0.9,0.9,0.4
        
        RecycleView:
            scroll_distance: 1
            effect_cls: "ScrollEffect"
            id: edit_scroll
            scroll_wheel_distance: 50
            smooth_scroll_end: 30
            MDBoxLayout:
                orientation: 'vertical'
                spacing: "30dp"
                padding: ["10dp", "10dp", "10dp", "30dp"]
                size_hint_y: None
                adaptive_height: True
                
                        
                            
                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    padding: [0,self.height/2.5,0,self.height/3]
                    MDBoxLayout:
                        orientation: "vertical"
                        padding: [20,0,20,10]
                        spacing: "20dp"
                        MDLabel:
                            text: "Property type/Name"
                            font_size: "15dp"
                        MDTextField:
                            id: housetype
                            hint_text: "property type"
                            # on_text: app.word(self.text)
                            padding: [20, ]
                            text: root.type
                            helper_text: 'Invalid Input'
                            font_size: '15dp'
                            input_type: 'text'
                            
                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    padding: [0,self.height/2.5,0,self.height/3]
                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: [20,0,20,10]
                        spacing: "20dp"
                        MDLabel:
                            text: "country"
                            font_size: "15dp"
                            size_hint_y: None
                            adaptive_height: True
                        MDBoxLayout:
                            
                            md_bg_color: 255/255, 255/255, 255/255, 1
                            MDLabel:
                                text: root.country
                                id: country_text
                                size_hint_y: None
                                adaptive_height: True
                                font_size: '15dp'
                            MDIconButton:
                                icon: 'arrow-right'
                                on_press: app.show_listings("EditSale")
                                font_size: '15dp'
                                size_hint_y: None
                                adaptive_height: True

                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    padding: [0,self.height/2.5,0,self.height/3]
                    MDBoxLayout:
                        orientation: "vertical"
                        padding: [20,0,20,10]
                        spacing: "20dp"
                        MDLabel:
                            text: "State/Province"
                            font_size: "15dp"
                        MDTextField:
                            id: state
                            hint_text: "State/Province"
                            text: root.province
                            on_text: app.statify(self.text)
                            padding: [20, ]
                            font_size: '15dp'
                            input_type: 'text'


                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    padding: [0,self.height/2.5,0,self.height/3]
                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: [20,0,20,10]
                        spacing: "20dp"
                        MDLabel:
                            text: "town/city"
                            font_size: "15dp"
                        MDTextField:
                            id: town
                            hint_text: "town/city"
                            padding: [20, ]
                            font_size: '15dp'
                            text: root.town
                            input_type: 'text'
                
                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    padding: [0,self.height/2.5,0,self.height/3]
                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: [20,0,20,10]
                        spacing: "20dp"
                        MDLabel:
                            text: "street/address"
                            font_size: "15dp"
                        MDTextField:
                            id: street
                            hint_text: "street/address"
                            font_size: '15dp'
                            on_text: app.streeti(self.text)
                            text: root.street
                            input_type: "address"

                MDBoxLayout: 
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: [20,0,20,5]
                        MDLabel:
                            text: "Bedroom number"
                            font_size: "15dp"
                        MDLabel:
                            text: root.bedrooms
                            font_size: "15dp"
                            id: bedrooms
                        
                        RecycleView:
                            do_scroll_y: False
                            do_scroll_x: True
                            bar_width: 0
                            scroll_distance: 15
                            MDBoxLayout:
                                spacing: '10dp'
                                
                                size_hint_x: None
                                adaptive_width: True
                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '1'
                                    on_press: root.bedrooms='1'
                                    
                                
                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '2'
                                    on_press: root.bedrooms='2'
                                    

                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '3'
                                    on_press: root.bedrooms='3'
                                    

                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '4'
                                    on_press: root.bedrooms='4'
                                    

                                MDRoundFlatButton:
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '5'
                                    on_press: root.bedrooms='5'
                                    
                                
                                MDRoundFlatButton:
                                    text_color: app.theme_cls.primary_color
                                    text: '6'
                                    
                                    on_press: root.bedrooms='6'
                                    
                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '7'
                                    on_press: root.bedrooms='7'
                                    

                                MDRoundFlatButton:
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '7+'
                                    
                                    on_press: root.bedrooms='7+'
                                    

                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: [20,0,20,5]
                        MDLabel:
                            text: "Bathroom number"
                            font_size: "15dp"
                        MDLabel:
                            text: root.bathrooms
                            font_size: "15dp"
                            id: bathrooms
                        RecycleView:
                            do_scroll_y: False
                            do_scroll_x: True
                            bar_width: 0
                            scroll_distance: 15
                            MDBoxLayout:
                                spacing: '10dp'
                                size_hint_x: None
                                adaptive_width: True
                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '1'
                                    on_press: root.bathrooms='1'
                                
                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '2'
                                    on_press: root.bathrooms='2'

                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '3'
                                    on_press: root.bathrooms='3'

                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '4'
                                    on_press: root.bathrooms='4'

                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '5'
                                    on_press: root.bathrooms='5'
                                
                                
                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '6'
                                    on_press: root.bathrooms='6'

                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '7'
                                    on_press: root.bathrooms='7'

                                MDRoundFlatButton:
                                    
                                    
                                    text_color: app.theme_cls.primary_color
                                    text: '7+'
                                    on_press: root.bathrooms='7+'
                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    padding: [0,self.height/2.5,0,self.height/3]
                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: [20,0,20,0]
                        size_hint_y: None
                        adaptive_height: True
                        spacing: "20dp"
                        MDLabel:
                            text: "Land space (sq.ft)"
                            font_size: "15dp"
                            id: landspace_text
                            size_hint_y: None
                            adaptive_height: True
                        EditLandspace:
                            size_hint_y: None
                            height: landspace_text.height * 2
                            id: land_card
                            radius: ["5dp",]
                            line_color: 0.9,0.9,0.9,0.5
                            TextInput:
                                id: land_area
                                size_hint_y: None
                                height: self.minimum_height
                                pos_hint: {'center_y': 0.5}
                                # on_text: app.land_space(self.text)
                                text: root.landspace
                                input_type: 'number'
                                multiline: False
                                input_filter: 'float'
                                foreground_color: 0/255, 0/255, 0/255, 1
                                background_color: 0,0,0,0 
                                font_size: '15dp'
                                cursor_color: app.theme_cls.primary_color

                                        


                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 10
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    padding: [0,self.height/2.5,0,self.height/3]
                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: [20,0,20,10]
                        spacing: "20dp"
                        MDLabel:
                            text: "$ Price"
                            font_size: "15dp"
                        EditPrice:
                            size_hint_y: None
                            height: landspace_text.height * 2
                            id: price_card
                            radius: ["5dp",]
                            line_color: 0.9,0.9,0.9,0.5
                            TextInput:
                                id: price
                                size_hint_y: None
                                height: self.minimum_height
                                pos_hint: {'center_y': 0.5}
                                # on_text: app.pricing(self.text)
                                text: root.price
                                input_type: 'number'
                                multiline: False
                                input_filter: 'float'
                                foreground_color: 0/255, 0/255, 0/255, 1
                                background_color: 0,0,0,0
                                font_size: '15dp'
                                cursor_color: app.theme_cls.primary_color


                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: price_card.height + landspace_text.height * 20
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "20dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    
                    padding: [20,30,20,10]
                    
                    MDLabel:
                        text: "Brief Description(max=255 words)"
                        font_size: "15dp"
                        size_hint_y: None
                        adaptive_height: True
                                                
                    TextInput:
                        id: description
                        text: root.description
                        input_type: 'text'
                        multiline: True
                        foreground_color: 0/255, 0/255, 0/255, 1
                        background_color: 0,0,0,0
                        cursor_color: app.theme_cls.primary_color

                MDBoxLayout:
                    opacity: 0.9
                    line_color: 0.9,0.9,0.9,0.5
                    radius: [5]
                    size_hint_y: None
                    height: Window.size[1] / 1.5 + 20 if Window.size[1] > Window.size[0] else Window.size[1] - 50
                    
                    pos_hint: {'center_x': 0.5}
                    elevation: 0
                    orientation: 'vertical'
                    spacing: "10dp"
                    md_bg_color: 255/255, 255/255, 255/255, 0.8
                    padding: [20,10,20,10]
                    MDLabel:
                        text: 'Further Amenities'
                        size_hint_y: None
                        adaptive_height: True
                        halign: 'center'
                        font_size: '16dp'
                        
                    MDBoxLayout:
                        size_hint_y: None
                        adaptive_height: True
                        MDCheckbox:
                            disabled: True
                            disabled_color: 'lightgrey'
                            active: True
                            font_size: '16dp'
                        MDLabel:
                            text: "Yes"
                            font_size: '15dp'

                        MDCheckbox:
                            disabled: True
                            disabled_color: 'lightgrey'
                            font_size: '16dp'
                        MDLabel: 
                            text: "No"
                            font_size: '15dp'

                    MDGridLayout:
                        cols: 2
                        MDLabel:
                            text: 'Fans'
                            font_size: '15dp'
                        MDCheckbox:
                            on_active: app.on_checkbox_active(*args, 0)
                            id: 0
                            active: True if root.amenities[0] == 'Yes' else False
                            font_size: '16dp'

                        MDLabel:
                            text: 'Air Conditioner'
                            font_size: '15dp'
                        MDCheckbox:
                            on_active: app.on_checkbox_active(*args, 1)
                            id: 1
                            active: True if root.amenities[1] == 'Yes' else False
                            font_size: '16dp'

                        MDLabel:
                            text: 'Water Heater'
                            font_size: '15dp'
                        MDCheckbox:
                            on_active: app.on_checkbox_active(*args, 2)
                            id: 2
                            active: True if root.amenities[2] == 'Yes' else False
                            font_size: '16dp'

                        MDLabel:
                            text: 'Swimming Pool'
                            font_size: '15dp'
                        MDCheckbox:
                            on_active: app.on_checkbox_active(*args, 3)
                            id: 3
                            active: True if root.amenities[3] == 'Yes' else False
                            font_size: '16dp'

                        MDLabel:
                            text: 'Wifi'
                            font_size: '15dp'
                        MDCheckbox:
                            on_active: app.on_checkbox_active(*args, 4)
                            id: 4
                            active: True if root.amenities[4] == 'Yes' else False
                            font_size: '16dp'

                        MDLabel:
                            text: 'Parking'
                            font_size: '15dp'
                        MDCheckbox:
                            on_active: app.on_checkbox_active(*args, 5)
                            id: 5
                            active: True if root.amenities[5] == 'Yes' else False
                            font_size: "16dp"

                        MDLabel:
                            text: 'Backyard'
                            font_size: '15dp'
                        MDCheckbox:
                            on_active: app.on_checkbox_active(*args, 6)
                            id: 6
                            active: True if root.amenities[6] == 'Yes' else False
                            font_size: "16dp"
                                
                MDRaisedButton:
                    text: "Submit"
                    # on_press: self.submit()
                    on_press: app.play()
                    pos_hint: {'center_x': 0.5}
                    on_release: app.update_property(root.local_image, housetype.text, price.text, country_text.text, state.text, town.text, street.text, bedrooms.text, bathrooms.text, land_area.text, root.key, description.text)
                    font_size: '15dp'

                MDFlatButton:
                    text: "Edit image"
                    # on_press: self.submit()
                    on_press: app.play()
                    pos_hint: {'center_x': 0.5}
                    on_release: app.separate_function(None)
                    font_size: '15dp'
                    line_color: 0,0,0,1
                    
<EditPrice@MDCard+CommonElevationBehavior>
<EditLandspace@MDCard+CommonElevationBehavior>