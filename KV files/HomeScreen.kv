<HomeScreen>:
    MDFloatLayout:
        MDBoxLayout:
            orientation: 'vertical'
            Scroller:
                effect_cls: 'ScrollEffect'
                # on_overscroll: self.scrolled(self)
                # on_scroll_y: app.check_pull_refresh(self, grid)
                
                id: scroller
                
                MDBoxLayout:
                    id: main_box
                    orientation: 'vertical'
                    size_hint_y: None
                    adaptive_height: True           
                    MDBoxLayout:
                        orientation: 'vertical'                    
                        
                        size_hint_y: None
                        height: Window.size[1]
                        RelativeLayout:
                            
                            FitImage:
                                source: "Images/Apartment-Buildings.jpg"
                            BoxLayout:
                                
                                padding: [15, 10, 15, 0]
                                orientation: 'vertical'
                                AnchorLayout:
                                    anchor_x: 'left'
                                    anchor_y: 'top'
                                    size_hint_y: None
                                    adaptive_height: True
                                    
                                    MDCard:
                                        size_hint: None, None
                                        height: 40
                                        width: 40
                                        ripple_behavior: True
                                        radius: [3, ]
                                        on_press: nav.set_state("open")
                                        
                                        MDIcon:
                                            icon: "menu"
                                            color: "black"
                                            size_hint_y: None
                                            adaptive_height: True
                                            pos_hint: {'center_x': .5, 'center_y': .5}
                                            halign: 'center'

                                            
                                        
                                    
                                MDBoxLayout:
                                    orientation: 'vertical'
                                    
                                    
                                    MDLabel:
                                        id: src
                                        text: "Find your best \nProperty"
                                        color: "white"
                                        
                                        font_size: "40dp"
                                        
                                MDBoxLayout:
                                    orientation: 'vertical'
                                    MDBoxLayout:
                                        size_hint_x: .5
                                        size_hint_y: .7
                                        MDCard:
                                            elevation: 12
                                            md_bg_color: app.theme_cls.primary_color
                                            radius: [3,0,0,0]
                                            MDLabel:
                                                text: "sale"
                                                color: "white"
                                                halign: "center"
                                                font_size: "15sp"
                                                bold: True
                                        MDCard:
                                            elevation: 12
                                            
                                            radius: [0,3,0,0]
                                            md_bg_color: 255/255, 255/255, 255/255, 0.1
                                            MDLabel:
                                                text: "rent"
                                                color: "white"
                                                halign: "center"
                                                font_size: "15sp"
                                                bold: True
                                    MDCard:
                                        elevation: 12
                                        radius: [0,3,0,0]
                                        
                                        TextInput:
                                            hint_text: "Search by location or address"
                                            size_hint: 1, None
                                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                                            height: self.minimum_height
                                            multiline: False
                                            foreground_color: 0/255, 0/255, 0/255, 1
                                            background_color: 0,0,0,0
                                            font_size: "15sp"
                                            text_color: "black"
                                            padding: [20, ]
                                    MDCard:
                                        elevation: 12
                                        md_bg_color: app.theme_cls.primary_color
                                        radius: [0,0,3,3]
                                        ripple_behavior: True
                                        MDLabel:
                                            text: "search"
                                            color: "white"
                                            font_size: "15sp"
                                            halign: "center"
                                            bold: True
                                MDBoxLayout:
                                    spacing: "20dp"
                                    
                                    MDLabel:
                                        text: "Most trusted properties in the East."
                                        pos_hint: {"center_x": 0.5, "center_y": .58}
                                        color: "white"
                                        bold: True
                                        font_size: "17sp"
                                        halign: 'center'
                    
                    MDBoxLayout:
                        orientation: 'vertical'
                        size_hint_y: None
                        adaptive_height: True
                        padding: [15, 50, 15, 10]

                        MDLabel:
                            text: "Best Property Deals."
                            color: "black"
                            size_hint_y: None
                            font_size: "30dp"
                            font_style: "H6"
                            
                            adaptive_height: True

                        
                        MDLabel:
                            text: "Be the first to browse exclusive listings before they hit the market."
                            size_hint_y: None
                            color: "gray"

                    MDBoxLayout:
                        orientation: 'vertical'
                        size_hint_y: None
                        adaptive_height: True
                        
                        spacing: "50dp"
                        MDBoxLayout:
                            padding: [17,0,0,0]
                            MDLabel:
                                text: "For sale"
                                font_size: '18dp'
                                bold: True
                        MDBoxLayout:
                            size_hint_y: None
                            height: 380
                            spacing: "30dp"
                            ScrollView:
                                do_scroll_x: True
                                do_scroll_y: False
                                bar_width: 0
                                id: inner_scroll
                                size_hint_y: None
                                height: 380
                                HomeCardsLayout:
                                    id: grid
                                    size_hint_y: None
                                    size_hint_x: None
                                    adaptive_width: True
                                    
                                    adaptive_height: True
                                    spacing: "20dp"
                                    padding: [15, 20, 10, 50]
                                    MDBoxLayout:
                                        size_hint: None, None
                                        height: 350
                                        width: 60
                                        MDCard:
                                            elevation: 0
                                            ripple_behavior: True
                                            
                                            
                                            on_release: grid.added()
                                            MDIcon:
                                                icon: "arrow-right"
                                                halign: 'center'  
                        
                                
                        MDBoxLayout:
                            padding: [17,0,0,0]
                            MDLabel:
                                text: "For rent"
                                font_size: '18dp'
                                bold: True
                            

                        
                            
                        ScrollView:
                            do_scroll_x: True
                            do_scroll_y: False
                            bar_width: 0
                            size_hint_y: None
                            height: 380
                            MDBoxLayout:
                                size_hint: None, None
                                adaptive_height: True
                                adaptive_width: True
                                RentCardsLayout:
                                    id: grid
                                    size_hint_y: None
                                    size_hint_x: None
                                    adaptive_width: True
                                    
                                    adaptive_height: True
                                    spacing: "20dp"
                                    padding: [15, 20, 10, 20]
                                MDBoxLayout:
                                    size_hint: None, None
                                    height: 350
                                    width: 60
                                    MDCard:
                                        elevation: 0
                                        ripple_behavior: True
                                        
                                        
                                        on_release: grid.added()
                                        MDIcon:
                                            icon: "arrow-right"
                                            halign: 'center'    
                            # MDBoxLayout:
                            
                            #     size_hint_y: None
                            #     height: 50
                            
                        

                        # ScreenManager:
                        #     id: manager
                        #     size_hint_y: None
                        #     adaptive_height: True
                        #     Screen:
                        #         name: 'sale'
                        #         id: lalo
                        #         size_hint_y: None
                        #         adaptive_height: True
                                
                        #         HomeCardsLayout:
                        #             id: grid
                        #             size_hint_y: None
                        #             orientation: 'vertical'
                        #             adaptive_height: True
                        #             spacing: "20dp"
                        #             padding: [0, 20, 0, 20]
                        #     Screen:
                        #         name: 'ladaladaloi'
                        #         id: lola
                        #         
                        # MDRectangleFlatButton:
                        #     text: 'click'
                        #     on_press: manager.current='ladaladaloi'

                        

                        
                        
                                
                        
                                
                    # MDBoxLayout:
                        
                    #     size_hint_y: None
                    #     height: 50
                    #     MDCard:
                    #         elevation: 0
                    #         ripple_behavior: True
                            
                    #         on_release: grid.added()
                    #         MDIcon:
                    #             icon: "arrow-down"
                    #             halign: 'center'

                    # MDBoxLayout:
                    #     size_hint_y: None
                    #     height: 1000
                    #     ScrollView:
                    #         do_scroll_x: False
                            
                    #             # MDCard:
                    #             #     elevation: 12
                                    
                    #             #     orientation: 'vertical'
                    #         MDBoxLayout:
                    #             size_hint_y: None
                    #             adaptive_height: True
                    #             orientation: 'vertical'
                                
        MDNavigationDrawer:
            id: nav
            orientation: 'vertical'
            
            MDCard:
                md_bg_color: 0,1,0,1
                elevation: 0
                size_hint_y: .7
                RelativeLayout:
                    FitImage:
                        source: "Images/Apartment-Buildings.jpg"
                    MDLabel:
                        text: root.text
                        color: "white"
                        font_size: "15dp"
                        bold: True
                        size_hint_y: None
                        adaptive_height: True
                        pos_hint: {'center_x': 0.6, 'center_y': 0.1}
            
            ScrollView:
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    adaptive_height: True
                    MDCard:
                        size_hint_y: None
                        height: 60
                        ripple_behavior: True
                        elevation: 0
                        on_press: app.change_screen("products")
                        MDIcon:
                            icon: "bed"
                            size_hint_x: .4
                            halign: 'center'
                            
                            
                        MDLabel:
                            text: "Sell your property"
                            halign: 'left'
                            font_size: "15sp"
                            color: "black"
                    MDCard:
                        size_hint_y: None
                        height: 60
                        ripple_behavior: True
                        elevation: 0
                        on_press: app.change_screen("bookmarks")
                        MDIcon:
                            icon: "bookmark"
                            size_hint_x: .4
                            halign: 'center'
                            
                            
                        MDLabel:
                            text: "Bookmarks"
                            halign: 'left'
                            font_size: "15sp"
                            color: "black"
                            

                    MDCard:
                        size_hint_y: None
                        height: 60
                        ripple_behavior: True
                        on_release: app.delete_user_notice()
                        elevation: 0
                        MDIcon:
                            icon: "trash-can"
                            size_hint_x: .4
                            halign: 'center'
                        MDLabel:
                            text: "Delete Account"
                            halign: 'left'
                            font_size: "15sp"
                            color: "black"

                    MDCard:
                        size_hint_y: None
                        height: 60
                        ripple_behavior: True
                        elevation: 0
                        MDIcon:
                            icon: "phone"
                            size_hint_x: .4
                            halign: 'center'
                        MDLabel:
                            text: "Contact Us"
                            halign: 'left'
                            font_size: "15sp"
                            color: "black"

                    MDCard:
                        size_hint_y: None
                        height: 60
                        ripple_behavior: True
                        elevation: 0
                        MDIcon:
                            icon: "pirate"
                            size_hint_x: .4
                            halign: 'center'
                        MDLabel:
                            text: "About Us"
                            halign: 'left'
                            font_size: "15sp"
                            color: "black"
                            



<MyTab@MDTabs+CommonElevationBehavior>:
    tab_indicator_type: 'line'
    tab_hint_x: True
    anim_duration: 0.3
    anim_threshold: 2
    no_ripple_effect: False
    ripple_duration: 0.2
    tab_indicator_anim: True
    text_color_normal: 'black'
    text_color_active: app.theme_cls.primary_color
    indicator_color: 0/255, 0/255, 255/255, 1
    background_color: 0/255, 0/255, 0/255, 0
    bold: True

<Tab@FloatLayout+MDTabsBase>:

<Effect@DampedScrollEffect>:
    id: lost
    on_overscroll: grid.added()